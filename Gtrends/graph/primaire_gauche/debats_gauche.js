var data_1m = {"columns":["Jean-Luc Bennahmias","Beno\u00eet Hamon","Arnaud Montebourg","Vincent Peillon","Sylvia Pinel","Fran\u00e7ois de Rugy","Manuel Valls"],"index":[1482019200000,1482105600000,1482192000000,1482278400000,1482364800000,1482451200000,1482537600000,1482624000000,1482710400000,1482796800000,1482883200000,1482969600000,1483056000000,1483142400000,1483228800000,1483315200000,1483401600000,1483488000000,1483574400000,1483660800000,1483747200000,1483833600000,1483920000000,1484006400000,1484092800000,1484179200000,1484265600000,1484352000000,1484438400000,1484524800000],"data":[[1,11,17,3,3,1,11],[1,14,5,3,2,1,13],[0,7,6,1,1,0,9],[0,5,3,3,0,1,9],[1,6,5,3,2,0,56],[1,4,3,2,2,1,31],[1,2,4,1,1,1,15],[0,4,4,2,0,1,13],[0,6,3,1,1,0,10],[1,8,6,1,1,1,8],[1,5,9,1,0,1,8],[1,6,3,2,1,0,7],[1,7,5,1,1,1,5],[0,5,6,1,0,0,9],[1,5,7,1,0,0,8],[1,20,18,3,1,0,8],[0,20,18,27,1,1,36],[1,18,12,25,3,1,22],[2,15,15,9,3,1,37],[1,14,10,7,2,1,42],[0,24,12,27,2,1,19],[0,28,19,28,2,1,20],[1,19,18,9,5,0,14],[1,17,15,6,1,1,11],[3,16,11,4,3,1,14],[83,47,47,27,100,27,30],[37,30,28,11,27,9,21],[9,20,14,6,7,2,20],[38,50,50,23,47,18,37],[24,26,36,8,16,7,19]]}
//var data_7d = {"columns":["Jean-Luc Bennahmias","Beno\u00eet Hamon","Arnaud Montebourg","Vincent Peillon","Sylvia Pinel","Fran\u00e7ois de Rugy","Manuel Valls"],"index":[1484182800000,1484190000000,1484197200000,1484204400000,1484211600000,1484218800000,1484226000000,1484233200000,1484240400000,1484247600000,1484254800000,1484262000000,1484269200000,1484276400000,1484283600000,1484290800000,1484298000000,1484305200000,1484312400000,1484319600000,1484326800000,1484334000000,1484341200000,1484348400000,1484355600000,1484362800000,1484370000000,1484377200000,1484384400000,1484391600000,1484398800000,1484406000000,1484413200000,1484420400000,1484427600000,1484434800000,1484442000000,1484449200000,1484456400000,1484463600000,1484470800000,1484478000000,1484485200000,1484492400000,1484499600000,1484506800000,1484514000000,1484521200000,1484528400000,1484535600000,1484542800000,1484550000000,1484557200000,1484564400000,1484571600000,1484578800000,1484586000000,1484593200000,1484600400000,1484607600000,1484614800000,1484622000000,1484629200000,1484636400000,1484643600000,1484650800000,1484658000000,1484665200000,1484672400000,1484679600000,1484686800000,1484694000000,1484701200000,1484708400000,1484715600000,1484722800000,1484730000000,1484737200000,1484744400000,1484751600000,1484758800000,1484766000000,1484773200000,1484780400000],"data":[[0,2,1,1,0,0,2],[0,1,2,1,0,0,4],[0,2,1,1,1,0,3],[0,1,1,2,1,0,3],[0,2,1,2,1,0,2],[0,1,1,1,1,0,2],[1,2,2,2,1,1,2],[0,1,1,1,0,0,2],[0,2,1,1,1,0,2],[1,2,2,2,1,1,3],[51,28,26,20,69,28,19],[56,27,21,27,63,32,19],[8,5,6,4,6,3,6],[5,4,4,2,6,1,4],[4,3,4,3,7,2,5],[11,5,5,4,8,3,5],[6,3,4,2,4,2,4],[5,3,3,2,3,1,3],[6,4,4,3,6,2,4],[2,2,2,1,2,1,3],[2,2,2,1,2,1,3],[3,4,3,2,2,1,4],[3,3,3,2,2,1,3],[3,5,3,2,2,1,3],[2,2,2,1,1,0,3],[2,2,3,1,2,0,3],[1,4,2,2,1,0,3],[2,2,2,1,2,0,2],[2,2,2,1,1,0,2],[1,2,1,1,1,0,2],[1,2,2,1,1,0,4],[1,2,1,1,1,0,2],[1,5,1,1,1,0,2],[2,2,2,1,1,0,3],[1,3,2,1,1,0,3],[1,2,2,1,1,0,6],[1,2,2,1,1,0,17],[1,3,1,1,1,0,4],[1,1,1,1,1,0,5],[1,2,2,1,1,0,6],[1,3,2,1,1,0,5],[1,2,1,1,1,0,3],[2,14,5,3,1,0,8],[1,2,1,1,1,0,3],[3,3,4,2,3,2,3],[15,11,10,8,17,12,8],[4,8,8,3,3,3,7],[4,5,7,3,3,2,5],[5,5,6,3,5,2,6],[4,6,7,2,5,2,5],[3,3,6,1,3,1,5],[3,3,5,2,2,2,4],[3,4,3,1,2,1,3],[1,2,3,1,1,1,3],[2,3,4,1,1,1,3],[1,2,3,1,1,1,3],[1,2,2,1,1,1,3],[3,5,4,1,1,1,5],[4,3,3,1,5,1,4],[3,5,5,2,1,1,5],[2,3,2,1,1,1,4],[2,3,2,1,1,1,5],[2,2,2,1,1,1,4],[2,2,2,1,1,1,3],[3,2,2,1,1,1,3],[1,2,2,1,1,1,3],[2,2,2,1,1,1,3],[1,2,1,0,1,0,2],[1,2,2,1,0,0,44],[1,2,2,1,2,0,91],[1,2,2,1,1,0,66],[1,3,3,1,1,1,89],[2,3,3,1,1,2,63],[2,3,3,1,3,1,55],[0,1,2,1,1,1,64],[1,2,2,1,1,1,100],[1,2,2,1,1,0,56],[1,2,2,1,0,0,46],[1,2,2,1,1,0,80],[0,2,2,1,0,0,35],[1,2,2,1,0,0,35],[1,2,3,2,1,1,66],[1,3,3,1,1,0,54],[1,4,4,4,1,0,57]]}

var i, lenI = data_1m.index.length, lenC = data_1m.columns.length;
var values = [];

for (i = 0; i < lenC; i++) { // looping on the columns
	values[i] = [];
    for (j = 0; j < lenI; j++) { // looping on the values
        values[i].push(data_1m.data[j][i]);
    }   
}

var data = {
labels: data_1m.index,
datasets: [
    {
        label: data_1m.columns[0],
        backgroundColor: "rgba(0,0,0,0)",
        borderColor: "rgba(0,50,220,0.8)",
        highlightFill: "rgba(0,50,220,0.75)",
        highlightStroke: "rgba(0,50,220,1)",
        data: values[0]
    },
    {
        label: data_1m.columns[1],
        backgroundColor: "rgba(0,0,0,0)",
        borderColor: "rgba(0,200,0,0.8)",
        highlightFill: "rgba(0,200,0,0.75)",
        highlightStroke: "rgba(0,200,0,1)",
        data: values[1]
    },
    {
        label: data_1m.columns[2],
        backgroundColor: "rgba(0,0,0,0)",
        borderColor: "rgba(204,204,0,0.8)",
        highlightFill: "rgba(204,204,0,0.75)",
        highlightStroke: "rgba(204,204,0,1)",
        data: values[2]
    },
    {
        label: data_1m.columns[3],
        backgroundColor: "rgba(0,0,0,0)",
        borderColor: "rgba(151,0,0,0.8)",
        highlightFill: "rgba(151,0,0,0.75)",
        highlightStroke: "rgba(151,0,0,1)",
        data: values[3]
    },
    {
        label: data_1m.columns[4],
        backgroundColor: "rgba(0,0,0,0)",
        borderColor: "rgba(51,0,51,0.8)",
        highlightFill: "rgba(51,0,51,0.75)",
        highlightStroke: "rgba(51,0,51,1)",
        data: values[4]
    },
    {
        label: data_1m.columns[5],
        backgroundColor: "rgba(0,0,0,0)",
        borderColor: "rgba(0,155,155,0.8)",
        highlightFill: "rgba(0,155,155,0.75)",
        highlightStroke: "rgba(0,155,155,1)",
        data: values[5]
    },
    {
        label: data_1m.columns[6],
        backgroundColor: "rgba(0,0,0,0)",
        borderColor: "rgba(75,75,75,0.8)",
        highlightFill: "rgba(75,75,75,0.75)",
        highlightStroke: "rgba(75,75,75,1)",
        data: values[6]
    }
]
};

var ctx = document.getElementById("myChart").getContext("2d");
var myLineChart = new Chart(ctx, {
    type: 'line',
    data: data,
    options: {
    	layout: {
    		padding: 20
    	},
        title: {
            display: true,
            text: 'Recherches Google : les candidats Ã  la primaire de la gauche.',
            fontSize: 16
        },
        scales: {
            xAxes: [{
                type: 'time',
                time: {
                    displayFormats: {
                        quarter: 'MMM YYYY'
                    }
                }
            }]
        },
        legend: {
        	labels: {
        		padding: 15,
        		boxWidth: 20
        	}
        },
        tooltips: {
        	mode: 'index',
        	callbacks: {
        		title: function(tooltipItem, data) {
        			return
        		}
        	}
        },
        responsive: true
    }
});




